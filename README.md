# Discover Rasnov - Tourist Website

A polished, interactive tourist website for Rasnov, Romania, featuring an AR scavenger hunt, real-time location data from Google Places API, and comprehensive visitor information.

## ‚ú® New: Google Places API Integration

This website now features **automatic, real-time data** powered by Google Places API:

- üéØ **Real Location Data**: Tourist attractions, restaurants, and accommodations fetched from Google Places
- üì∏ **Authentic Photos**: High-quality images from Google Places and Unsplash
- ‚≠ê **Live Ratings & Reviews**: Real visitor ratings and review counts
- üïê **Opening Hours**: Current status and weekly schedules
- üìç **Accurate Coordinates**: Precise locations on the interactive map
- üîÑ **Auto-Updates**: Data refreshes weekly via GitHub Actions
- üí∞ **100% Free**: Built-time fetching stays within Google's generous free tier

**[üìñ Read the Setup Guide](SETUP_GUIDE.md)** to configure your own API keys and enable data fetching.

## Features

### üè† Homepage with Tab Navigation
- **Locations to Visit**: Dynamically loaded from Google Places API with real ratings and photos
- **Restaurants**: Real dining options with opening hours, phone numbers, and reviews
- **Places to Stay**: Accommodation options with prices, ratings, and contact information
- All content loads from `data/places-data.json` generated by build-time API calls

### üì± AR Scavenger Hunt
Interactive gamification to explore Rasnov:
- **QR Code Scanning**: Scan QR codes at 8 historical locations
- **Location Services**: Automatic discovery when near locations
- **Progress Tracking**: Visual progress bar showing completion (X/8 locations)
- **Educational Facts**: Learn interesting history about each discovered location
- **Testing Mode**: Easy testing without physical QR codes or location requirements

### üåü Additional Tourist Features
- **Interactive Map**: Shows all locations from Google Places with enhanced popups
- **Weather Widget**: Real-time temperature display
- **Language Toggle**: Switch between English and Romanian
- **Essential Information**: Emergency contacts, transportation, currency, opening hours
- **Mobile Responsive**: Works perfectly on all devices
- **Dynamic Content**: All location cards generated from fresh API data

### üé® Polish & Design
- Modern, clean UI with smooth animations
- Gradient backgrounds and hover effects
- Card-based layout for easy browsing
- Notification system for user feedback
- Accessibility features (ARIA labels, keyboard navigation)

## Quick Start

### Option 1: View with Sample Data (No API Key Required)

The website works out-of-the-box with sample data:

```bash
git clone https://github.com/YOUR_USERNAME/testsite.git
cd testsite
npm install
npm start
```

Navigate to http://localhost:3000 - you'll see sample locations and data.

### Option 2: Setup with Real Google Places Data

For real-time data from Google Places API:

1. **Get API Keys** (Free!):
   - [Google Places API key](https://console.cloud.google.com/) 
   - [Unsplash API key](https://unsplash.com/developers) (optional, for better photos)

2. **Configure locally**:
   ```bash
   cp .env.example .env
   # Edit .env and add your API keys
   ```

3. **Fetch real data**:
   ```bash
   npm run fetch-data
   ```

4. **Run the website**:
   ```bash
   npm start
   ```
   
   **Or use the combined command**:
   ```bash
   npm run fetch-and-start
   ```
   This will fetch fresh data and immediately start the server.

üìñ **[Complete Setup Guide](SETUP_GUIDE.md)** - Detailed instructions with screenshots

### Option 3: Deploy with Auto-Updates

Deploy to GitHub Pages or any static host with automatic weekly data updates:

1. Follow Option 2 to get API keys
2. Add API keys as GitHub Secrets (see [Setup Guide](SETUP_GUIDE.md))
3. Push to GitHub - the workflow runs automatically every Sunday

## How to Use

### Running Locally
1. Clone the repository
2. Open `index.html` in a web browser, or
3. Run a local server:
   ```bash
   python3 -m http.server 8000
   ```
4. Navigate to `http://localhost:8000`

### Using the AR Scavenger Hunt

#### For Testing (Recommended for Demo)
1. Click **"Testing Mode"** button (orange)
2. Click **"Start Hunt"** button
3. Click on any location name to mark it as "found"
4. View progress bar and fun facts

#### For Real Use with QR Codes
1. Print QR codes with these values at each location:
   - Fortress: `RASNOV_FORTRESS`
   - Well: `RASNOV_WELL`
   - Tower: `RASNOV_TOWER`
   - Church: `RASNOV_CHURCH`
   - Museum: `RASNOV_MUSEUM`
   - Peak: `RASNOV_PEAK`
   - Square: `RASNOV_SQUARE`
   - Dino: `RASNOV_DINO`
2. Click **"Start Hunt"**
3. Click **"Scan QR Code"** and allow camera access
4. Point camera at QR codes at each location

#### For Real Use with Location Services
1. Click **"Start Hunt"**
2. Click **"Use Location"** and allow location access
3. Visit the actual locations (within 100m)
4. Automatic discovery when nearby

## Technology Stack

- **HTML5**: Semantic markup with accessibility
- **CSS3**: Modern styling with animations and gradients
- **JavaScript (ES6+)**: Interactive features and dynamic content loading
- **Node.js**: Build-time data fetching scripts
- **Font Awesome**: Icon library
- **Leaflet**: Interactive maps with OpenStreetMap
- **Geolocation API**: Location-based discovery
- **Media Devices API**: Camera access for QR scanning
- **Google Places API**: Real location data and photos
- **Unsplash API**: Fallback high-quality images
- **GitHub Actions**: Automated weekly data updates

## Architecture: Build-Time vs Runtime

This project uses a **build-time data fetching** architecture to stay 100% free:

### Build-Time Fetching (What We Do) ‚úÖ
```
Google Places API ‚Üí fetch-places-data.js ‚Üí places-data.json ‚Üí Static Site
     (Once/week)          (Node.js)            (Deployed)      (No API calls)
```

**Benefits**:
- üí∞ FREE: ~400 API calls/month << 28,000 free tier limit
- ‚ö° FAST: No API latency for visitors
- üîí SECURE: API keys never exposed to browser
- üì¶ SIMPLE: Deploy anywhere as static site

### Runtime Fetching (What We DON'T Do) ‚ùå
```
Every Page Load ‚Üí Google Places API ‚Üí Response ‚Üí Render
   (Expensive)       (Costs $$$$)
```

**Problems**:
- üí∏ EXPENSIVE: Could easily exceed free tier
- üêå SLOW: Every visitor waits for API response
- ‚ö†Ô∏è INSECURE: API keys exposed in browser
- üîß COMPLEX: Requires backend/proxies

## File Structure

```
/
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ       ‚îî‚îÄ‚îÄ update-places-data.yml   # Auto-update workflow
‚îú‚îÄ‚îÄ build-scripts/
‚îÇ   ‚îî‚îÄ‚îÄ fetch-places-data.js         # Data fetching script
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ places-data.json             # Real data (generated)
‚îÇ   ‚îî‚îÄ‚îÄ sample-places-data.json      # Sample fallback data
‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îî‚îÄ‚îÄ data-loader.js               # Dynamic content loader
‚îú‚îÄ‚îÄ index.html                        # Main HTML structure
‚îú‚îÄ‚îÄ styles.css                        # All styling and animations
‚îú‚îÄ‚îÄ script.js                         # Interactive functionality
‚îú‚îÄ‚îÄ server.js                         # Local development server
‚îú‚îÄ‚îÄ package.json                      # Dependencies and scripts
‚îú‚îÄ‚îÄ .env.example                      # Environment variables template
‚îú‚îÄ‚îÄ .gitignore                        # Git ignore rules
‚îú‚îÄ‚îÄ README.md                         # This file
‚îî‚îÄ‚îÄ SETUP_GUIDE.md                   # Detailed setup instructions
```

## API Usage & Free Tier

### Google Places API

**Free Tier**: $200/month credit (every month!)

**Our Weekly Usage** (~100 API calls):
- Nearby Search: 3 calls √ó $32/1000 = $0.096
- Place Details: 60 calls √ó $17/1000 = $1.02
- Place Photos: 180 refs √ó $7/1000 = $1.26
- **Total**: ~$2.38/week = **$9.52/month**

**Remaining**: $190.48/month for other projects! üéâ

### Unsplash API (Optional)

**Free Tier**: 50 requests/hour (Free forever)

**Our Usage**: ~10 requests/week

**Cost**: $0

### Staying Free

‚úÖ **Do**:
- Keep the weekly schedule (configured)
- Use build-time fetching (already done)
- Monitor usage in Google Cloud Console

‚ùå **Don't**:
- Change schedule to daily/hourly
- Make runtime API calls
- Share API keys publicly

## Customization

### Changing Search Location

Edit `build-scripts/fetch-places-data.js`:

```javascript
const CONFIG = {
  CENTER_LAT: 45.5889,  // Change to your location
  CENTER_LNG: 25.4631,
  SEARCH_RADIUS: 10000, // Radius in meters
  // ...
};
```

### Changing What to Fetch

Edit the `PLACE_TYPES` in `fetch-places-data.js`:

```javascript
const PLACE_TYPES = {
  locations: 'tourist_attraction',  // or 'museum', 'park', etc.
  restaurants: 'restaurant',         // or 'cafe', 'bar', etc.
  accommodations: 'lodging',         // or 'hotel', 'hostel', etc.
};
```

See [Google Place Types](https://developers.google.com/maps/documentation/places/web-service/supported_types) for all options.

### Changing Update Schedule

Edit `.github/workflows/update-places-data.yml`:

```yaml
on:
  schedule:
    - cron: '0 2 * * 0'  # Every Sunday at 2 AM UTC
    # Change to:
    # - cron: '0 2 * * *'  # Every day at 2 AM UTC
    # - cron: '0 2 1 * *'  # First day of month at 2 AM UTC
```

## Deployment

### GitHub Pages

1. Go to repository Settings ‚Üí Pages
2. Set source to your main branch
3. Your site will be at: `https://YOUR_USERNAME.github.io/testsite/`

The workflow automatically updates data, and GitHub Pages redeploys.

### Netlify / Vercel

1. Connect your repository
2. Build command: (leave empty)
3. Publish directory: `/` (root)
4. Deploy!

### Custom Server

The site is 100% static - just copy all files to any web server!

## Troubleshooting

### "Using sample data" notification

**Cause**: `places-data.json` doesn't exist yet

**Solution**: Run `npm run fetch-data` to generate real data. The data will be saved to `data/places-data.json` (which is gitignored).

**Note**: After running `npm run fetch-data`, the data file persists on your local machine and the server will use it instead of sample data. You don't need to fetch data every time you restart the server - only when you want fresh data from Google Places API.

### Cards not loading / Empty tabs

**Cause**: Data loader failed to fetch data

**Solution**: 
1. Check browser console for errors
2. Verify `data/sample-places-data.json` exists
3. Check network tab for failed requests

### Map markers not showing

**Cause**: Data hasn't loaded yet or Leaflet not available

**Solution**:
1. Wait a moment for data to load
2. Check that Leaflet CDN is accessible
3. Check browser console for errors

### GitHub Actions workflow fails

**Solutions**:
1. Verify API keys are set as GitHub Secrets
2. Check secret names match exactly
3. View workflow logs for specific errors
4. Ensure billing is enabled on Google Cloud

### Photos not displaying

**Cause**: Google Places photo URLs expired or not accessible

**Solution**:
1. Re-run `npm run fetch-data` to get fresh URLs
2. Check CORS settings if self-hosting
3. Consider using Unsplash fallback

For more help, see **[SETUP_GUIDE.md](SETUP_GUIDE.md)** or open an issue.

## Technology Stack

- **HTML5**: Semantic markup with accessibility
- **CSS3**: Modern styling with animations and gradients
- **JavaScript (ES6+)**: Interactive features and state management
- **Font Awesome**: Icon library
- **Geolocation API**: Location-based discovery
- **Media Devices API**: Camera access for QR scanning

## File Structure

```
/
‚îú‚îÄ‚îÄ index.html      # Main HTML structure
‚îú‚îÄ‚îÄ styles.css      # All styling and animations
‚îú‚îÄ‚îÄ script.js       # Interactive functionality
‚îî‚îÄ‚îÄ README.md       # Documentation
```

## Scavenger Hunt Locations

The website tracks 8 key locations in Rasnov:

1. **Rasnov Fortress Gate** - Built in 1215 by Teutonic Knights
2. **Ancient Well** - 143-meter deep well dug by Turkish prisoners
3. **Watch Tower** - 360-degree views for enemy spotting
4. **Old Church** - Gothic church from 14th century
5. **Village Museum** - 300+ artifacts of Romanian village life
6. **Mountain Peak** - 1650m elevation with panoramic views
7. **Town Square** - 600+ year old gathering place
8. **Dino Park Entrance** - 100+ life-size dinosaur replicas

## Browser Compatibility

- Chrome/Edge: ‚úÖ Full support
- Firefox: ‚úÖ Full support
- Safari: ‚úÖ Full support
- Mobile browsers: ‚úÖ Fully responsive

## Future Enhancements

- ‚úÖ ~~Integration with Google Maps/OpenStreetMap~~ (Done!)
- ‚úÖ ~~Real location data with Google Places API~~ (Done!)
- ‚úÖ ~~Automatic data updates via GitHub Actions~~ (Done!)
- Multi-language support (full translations beyond UI toggle)
- Real weather API integration (currently simulated)
- Backend for user accounts and saved hunt progress
- Social sharing of completed hunts
- Leaderboards and achievements
- Audio guides for locations
- Virtual reality tour mode
- Progressive Web App (PWA) for offline access

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## Credits

Created for tourists visiting Rasnov, Romania. Made with ‚ù§Ô∏è for travelers.

**Special Thanks**:
- Google Places API for real location data
- Unsplash for high-quality fallback images
- OpenStreetMap & Leaflet for interactive maps
- Font Awesome for icons

## License

This project is open source and available for tourist information purposes.
